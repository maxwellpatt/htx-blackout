"0","# add impact status column "
"0","acs_data$impact_status <- ifelse(acs_data$GEOID %in% tracts_with_blackouts, ""Impacted"", ""Unimpacted"")"
"0",""
"0","# re-establish bounding coordinates to plot the map in"
"0","houston_extent <- st_bbox(houston)"
"0",""
"0","# plot the map of Houston "
"0","map <- ggplot(data = acs_data) +"
"0","  geom_sf(aes(fill = B19013e1, color = impact_status), show.legend = 'point') +"
"0","  scale_color_manual(values = c(""Impacted"" = ""red"", ""Unimpacted"" = ""green"")) + "
"0","  labs(title = ""Median Income by Census Tract and Impact Status"","
"0","       fill = ""Median Income"","
"0","       color = ""Impact Status"") +"
"0","  coord_sf(xlim = c(houston_extent$xmin, houston_extent$xmax), "
"0","           ylim = c(houston_extent$ymin, houston_extent$ymax), "
"0","           expand = FALSE) +"
"0","  theme_minimal()"
"0",""
"0","# make sure median income is numeric"
"0","acs_data$B19013e1 <- as.numeric(acs_data$B19013e1)"
"0",""
"0","# make the box plot to compare distributions"
"0","boxplot <- ggplot(acs_data, aes(x = impact_status, y = B19013e1, fill = impact_status)) +"
"0","  geom_boxplot() +"
"0","  scale_fill_manual(values = c(""Impacted"" = ""red"", ""Unimpacted"" = ""blue"")) +"
"0","  labs(title = ""Median Income of Impacted vs Unimpacted Tracts"","
"0","       x = ""Blackout Impact"", y = ""Median Income"") +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""none"")"
